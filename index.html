<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <!DOCTYPE html>
    <html lang="fr">
      <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>
          TunisieGénéalogie.tn | Votre histoire familiale tunisienne
        </title>
        <link
          rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
        />
        <link
          href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;500;700&family=Cormorant+Garamond:wght@300;400;500;700&family=Noto+Sans+Arabic:wght@400;500;700&display=swap"
          rel="stylesheet"
        />
        <link
          rel="stylesheet"
          href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
        />
        <style>
          :root {
            --primary-brown: #5d4037;
            --secondary-brown: #8d6e63;
            --accent-gold: #d4af37;
            --light-beige: #f5f1e8;
            --dark-beige: #e8dfca;
            --paper-color: #f8f5ef;
            --leather-brown: #3e2723;
            --text-color: #2c1810;
            --border-radius: 4px;
            --box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            --transition: all 0.3s ease;
            --book-shadow: 5px 5px 15px rgba(0, 0, 0, 0.2);
            --olive-green: #556b2f;
            --terracotta: #a0552a;
            --antique-brown: #8b4513;
          }

          * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
          }

          html {
            scroll-behavior: smooth;
          }

          body {
            font-family: "Cormorant Garamond", serif;
            line-height: 1.7;
            color: var(--text-color);
            background-color: var(--light-beige);
            background-image: url("https://images.unsplash.com/photo-1541961017774-22349e4a1262?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80");
            background-size: cover;
            background-attachment: fixed;
            background-position: center;
            position: relative;
          }

          body::before {
            content: "";
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(245, 241, 232, 0.92);
            z-index: -1;
          }

          .arabic-font {
            font-family: "Noto Sans Arabic", sans-serif;
          }

          .container {
            width: 100%;
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 20px;
          }

          /* Header & Navigation - Style amélioré */
          header {
            background-color: var(--leather-brown);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            position: sticky;
            top: 0;
            z-index: 1000;
            border-bottom: 3px solid var(--accent-gold);
          }

          .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
          }

          .logo {
            display: flex;
            align-items: center;
            gap: 12px;
          }

          .logo-icon {
            color: var(--accent-gold);
            font-size: 32px;
          }

          .logo-text {
            font-family: "Cinzel", serif;
            font-size: 26px;
            font-weight: 700;
            color: var(--accent-gold);
            letter-spacing: 1px;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
          }

          .logo-text span {
            color: var(--dark-beige);
            font-weight: 400;
          }

          nav ul {
            display: flex;
            list-style: none;
            gap: 30px;
          }

          nav a {
            text-decoration: none;
            color: var(--dark-beige);
            font-weight: 500;
            font-size: 18px;
            transition: var(--transition);
            position: relative;
            font-family: "Cinzel", serif;
            letter-spacing: 0.5px;
          }

          nav a:hover {
            color: var(--accent-gold);
          }

          nav a::after {
            content: "";
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 0;
            height: 2px;
            background-color: var(--accent-gold);
            transition: var(--transition);
          }

          nav a:hover::after {
            width: 100%;
          }

          .mobile-menu-btn {
            display: none;
            font-size: 26px;
            background: none;
            border: none;
            cursor: pointer;
            color: var(--accent-gold);
          }

          /* Hero Section - Style amélioré */
          .hero {
            background: linear-gradient(
                rgba(93, 64, 55, 0.85),
                rgba(62, 39, 35, 0.9)
              ),
              url("https://images.unsplash.com/photo-1507842217343-583bb7270b66?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1350&q=80");
            background-size: cover;
            background-position: center;
            color: var(--dark-beige);
            text-align: center;
            padding: 120px 20px;
            margin-bottom: 80px;
            border-bottom: 5px solid var(--accent-gold);
            box-shadow: var(--book-shadow);
            position: relative;
            overflow: hidden;
          }

          .hero::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.143 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z' fill='%23d4af37' fill-opacity='0.03' fill-rule='evenodd'/%3E%3C/svg%3E");
            opacity: 0.3;
          }

          .hero h1 {
            font-family: "Cinzel", serif;
            font-size: 4rem;
            margin-bottom: 25px;
            color: var(--accent-gold);
            text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.5);
            letter-spacing: 1.5px;
            position: relative;
          }

          .hero p {
            font-size: 1.4rem;
            max-width: 850px;
            margin: 0 auto 40px;
            line-height: 1.8;
            position: relative;
          }

          .cta-button {
            display: inline-block;
            background-color: var(--accent-gold);
            color: var(--leather-brown);
            padding: 18px 40px;
            border-radius: 2px;
            text-decoration: none;
            font-weight: 700;
            font-size: 1.2rem;
            transition: var(--transition);
            border: 2px solid var(--accent-gold);
            font-family: "Cinzel", serif;
            letter-spacing: 1px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            position: relative;
            z-index: 1;
          }

          .cta-button:hover {
            background-color: transparent;
            color: var(--accent-gold);
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3);
          }

          /* Sections communes - Style amélioré */
          .section-title {
            text-align: center;
            margin-bottom: 60px;
            position: relative;
          }

          .section-title h2 {
            font-family: "Cinzel", serif;
            font-size: 3rem;
            color: var(--leather-brown);
            margin-bottom: 15px;
            display: inline-block;
            position: relative;
            padding-bottom: 15px;
          }

          .section-title h2::after {
            content: "";
            position: absolute;
            width: 150px;
            height: 3px;
            background-color: var(--accent-gold);
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
          }

          .section-intro {
            text-align: center;
            max-width: 850px;
            margin: 0 auto 50px;
            font-size: 1.3rem;
            color: var(--primary-brown);
            line-height: 1.8;
          }

          /* Section : Statistiques */
          .stats-section {
            padding: 100px 0;
            background-color: var(--paper-color);
            border-top: 5px solid var(--accent-gold);
            border-bottom: 5px solid var(--accent-gold);
          }

          .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
            margin-bottom: 60px;
          }

          .stat-card {
            background-color: var(--light-beige);
            padding: 40px 30px;
            border-radius: var(--border-radius);
            text-align: center;
            box-shadow: var(--box-shadow);
            transition: var(--transition);
            border-top: 5px solid var(--accent-gold);
          }

          .stat-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
          }

          .stat-icon {
            font-size: 3rem;
            color: var(--accent-gold);
            margin-bottom: 20px;
          }

          .stat-number {
            font-family: "Cinzel", serif;
            font-size: 3.5rem;
            color: var(--leather-brown);
            margin-bottom: 10px;
            line-height: 1;
          }

          .stat-text {
            font-size: 1.3rem;
            color: var(--secondary-brown);
          }

          /* NOUVELLE SECTION : CARTE DES TRIBUS TUNISIENNES */
          .tribes-section {
            padding: 100px 0;
            background-color: var(--paper-color);
            border-top: 5px solid var(--olive-green);
            border-bottom: 5px solid var(--olive-green);
          }

          .tribes-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 50px;
            margin-bottom: 60px;
          }

          @media (max-width: 992px) {
            .tribes-container {
              grid-template-columns: 1fr;
            }
          }

          .tribes-map-container {
            background-color: var(--light-beige);
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: var(--box-shadow);
            border: 10px solid #d2b48c;
            position: relative;
          }

          #tribes-map {
            height: 600px;
            width: 100%;
            z-index: 1;
          }

          .tribes-info {
            background-color: var(--paper-color);
            padding: 40px;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            border-left: 5px solid var(--olive-green);
          }

          .tribe-selector {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-bottom: 30px;
          }

          .tribe-btn {
            background-color: var(--light-beige);
            border: 2px solid var(--olive-green);
            padding: 10px 20px;
            border-radius: 2px;
            cursor: pointer;
            transition: var(--transition);
            font-family: "Cinzel", serif;
            color: var(--leather-brown);
            letter-spacing: 0.5px;
            font-weight: 600;
          }

          .tribe-btn.active,
          .tribe-btn:hover {
            background-color: var(--olive-green);
            color: var(--accent-gold);
            border-color: var(--olive-green);
          }

          .tribe-details {
            display: none;
          }

          .tribe-details.active {
            display: block;
            animation: fadeIn 0.5s ease;
          }

          .tribe-details h3 {
            font-family: "Cinzel", serif;
            font-size: 2rem;
            color: var(--olive-green);
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--accent-gold);
          }

          .tribe-details h4 {
            font-family: "Cinzel", serif;
            font-size: 1.3rem;
            color: var(--leather-brown);
            margin: 20px 0 10px;
          }

          .tribe-stats {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin-top: 25px;
          }

          .tribe-stat {
            background-color: var(--light-beige);
            padding: 15px;
            border-radius: var(--border-radius);
            text-align: center;
            border-top: 3px solid var(--olive-green);
          }

          .tribe-stat i {
            font-size: 2rem;
            color: var(--olive-green);
            margin-bottom: 10px;
          }

          .tribe-stat h5 {
            font-family: "Cinzel", serif;
            font-size: 1.1rem;
            margin-bottom: 5px;
          }

          /* NOUVELLE SECTION : CHRONOLOGIE HISTORIQUE */
          .timeline-section {
            padding: 100px 0;
            background-color: var(--light-beige);
            background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%235d4037' fill-opacity='0.03'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
            border-top: 5px solid var(--antique-brown);
            border-bottom: 5px solid var(--antique-brown);
          }

          .timeline-container {
            position: relative;
            max-width: 1200px;
            margin: 0 auto;
          }

          .timeline-container::after {
            content: "";
            position: absolute;
            width: 6px;
            background-color: var(--antique-brown);
            top: 0;
            bottom: 0;
            left: 50%;
            margin-left: -3px;
          }

          .timeline-item {
            padding: 10px 40px;
            position: relative;
            width: 50%;
            box-sizing: border-box;
            margin-bottom: 60px;
          }

          .timeline-item:nth-child(odd) {
            left: 0;
          }

          .timeline-item:nth-child(even) {
            left: 50%;
          }

          .timeline-content {
            padding: 30px;
            background-color: var(--paper-color);
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            border-right: 5px solid var(--antique-brown);
            position: relative;
          }

          .timeline-content::after {
            content: "";
            position: absolute;
            width: 20px;
            height: 20px;
            right: -13px;
            background-color: var(--paper-color);
            top: 30px;
            border-radius: 50%;
            z-index: 1;
            border: 4px solid var(--antique-brown);
          }

          .timeline-item:nth-child(even) .timeline-content::after {
            left: -13px;
          }

          .timeline-content h3 {
            font-family: "Cinzel", serif;
            font-size: 1.8rem;
            color: var(--antique-brown);
            margin-bottom: 10px;
          }

          .timeline-date {
            font-family: "Cinzel", serif;
            font-weight: 700;
            color: var(--accent-gold);
            font-size: 1.2rem;
            margin-bottom: 15px;
            display: block;
          }

          .timeline-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 15px;
          }

          .timeline-tag {
            background-color: var(--dark-beige);
            color: var(--leather-brown);
            padding: 3px 10px;
            border-radius: 2px;
            font-size: 0.8rem;
            font-family: "Cinzel", serif;
            letter-spacing: 0.3px;
          }

          /* NOUVELLE SECTION : CIVILISATIONS ANTIQUES */
          .antique-section {
            padding: 100px 0;
            background-color: #f9f5f0;
            border-top: 5px solid var(--antique-brown);
            border-bottom: 5px solid var(--antique-brown);
          }

          .antique-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-bottom: 60px;
          }

          .antique-card {
            background-color: var(--paper-color);
            padding: 30px;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            border-top: 5px solid var(--antique-brown);
            transition: var(--transition);
            text-align: center;
          }

          .antique-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.15);
          }

          .antique-icon {
            font-size: 3rem;
            color: var(--antique-brown);
            margin-bottom: 15px;
          }

          .antique-card h3 {
            font-family: "Cinzel", serif;
            color: var(--antique-brown);
            font-size: 1.8rem;
            margin-bottom: 15px;
          }

          /* NOUVELLE SECTION : BIBLIOTHÈQUE NUMÉRIQUE */
          .library-section {
            padding: 100px 0;
            background-color: var(--light-beige);
            border-top: 5px solid var(--secondary-brown);
            border-bottom: 5px solid var(--secondary-brown);
          }

          .library-filter {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 15px;
            margin-bottom: 50px;
          }

          .library-btn {
            background-color: var(--paper-color);
            border: 2px solid var(--secondary-brown);
            padding: 12px 25px;
            border-radius: 2px;
            cursor: pointer;
            transition: var(--transition);
            font-family: "Cinzel", serif;
            color: var(--leather-brown);
            letter-spacing: 0.5px;
          }

          .library-btn.active,
          .library-btn:hover {
            background-color: var(--secondary-brown);
            color: var(--light-beige);
          }

          .library-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 30px;
          }

          .library-item {
            background-color: var(--paper-color);
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: var(--box-shadow);
            transition: var(--transition);
            height: 100%;
            display: flex;
            flex-direction: column;
          }

          .library-item:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.15);
          }

          .library-img {
            height: 200px;
            background-size: cover;
            background-position: center;
            position: relative;
          }

          .library-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(
              to bottom,
              transparent,
              rgba(93, 64, 55, 0.7)
            );
            display: flex;
            align-items: flex-end;
            padding: 20px;
          }

          .library-category {
            background-color: var(--accent-gold);
            color: var(--leather-brown);
            padding: 5px 15px;
            border-radius: 2px;
            font-family: "Cinzel", serif;
            font-size: 0.9rem;
          }

          .library-content {
            padding: 25px;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
          }

          .library-content h3 {
            font-family: "Cinzel", serif;
            font-size: 1.5rem;
            color: var(--leather-brown);
            margin-bottom: 15px;
            line-height: 1.3;
          }

          .library-meta {
            display: flex;
            justify-content: space-between;
            margin-top: auto;
            padding-top: 20px;
            border-top: 1px solid var(--dark-beige);
            font-size: 0.9rem;
            color: var(--secondary-brown);
          }

          /* Section généalogique détaillée (existante) - Style amélioré */
          .detailed-genealogy-section {
            padding: 100px 0;
            background-color: var(--paper-color);
            border-top: 5px solid var(--leather-brown);
            border-bottom: 5px solid var(--leather-brown);
          }

          .genealogy-container {
            display: flex;
            flex-direction: column;
            gap: 60px;
          }

          .family-tree-viewer {
            background: #f8f2e6;
            border: 15px solid #d2b48c;
            border-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100' viewBox='0 0 100 100'%3E%3Cpath d='M0,0 L100,0 L100,100 L0,100 Z' fill='none' stroke='%235d4037' stroke-width='5' stroke-dasharray='10,5'/%3E%3C/svg%3E")
              30 round;
            padding: 40px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.15);
            position: relative;
            overflow: hidden;
          }

          .family-tree-viewer::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: radial-gradient(
                circle at 20% 30%,
                rgba(210, 180, 140, 0.1) 0%,
                transparent 50%
              ),
              radial-gradient(
                circle at 80% 70%,
                rgba(210, 180, 140, 0.1) 0%,
                transparent 50%
              );
            z-index: 0;
          }

          .tree-header {
            text-align: center;
            margin-bottom: 40px;
            position: relative;
            z-index: 1;
          }

          .tree-header h3 {
            font-family: "Cinzel", serif;
            font-size: 2.5rem;
            color: var(--leather-brown);
            margin-bottom: 15px;
          }

          .tree-header p {
            font-size: 1.2rem;
            color: var(--secondary-brown);
            max-width: 800px;
            margin: 0 auto;
          }

          .tree-navigation {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 40px;
            flex-wrap: wrap;
          }

          .tree-nav-btn {
            background-color: var(--light-beige);
            border: 2px solid var(--secondary-brown);
            padding: 12px 25px;
            border-radius: 2px;
            cursor: pointer;
            transition: var(--transition);
            font-family: "Cinzel", serif;
            color: var(--leather-brown);
            letter-spacing: 0.5px;
            font-weight: 600;
          }

          .tree-nav-btn.active,
          .tree-nav-btn:hover {
            background-color: var(--leather-brown);
            color: var(--accent-gold);
            border-color: var(--leather-brown);
          }

          .tree-diagram-container {
            position: relative;
            min-height: 600px;
            overflow-x: auto;
            padding: 20px;
            background-color: #faf7f0;
            border: 1px solid var(--dark-beige);
          }

          /* Arbre généalogique détaillé */
          .family-tree {
            display: flex;
            flex-direction: column;
            align-items: center;
            position: relative;
            min-width: 1200px;
            padding: 40px 0;
          }

          .tree-generation {
            display: flex;
            justify-content: center;
            width: 100%;
            margin-bottom: 40px;
            position: relative;
          }

          .tree-member {
            position: relative;
            margin: 0 15px;
            text-align: center;
            z-index: 2;
          }

          .member-card {
            background-color: var(--paper-color);
            border: 2px solid var(--secondary-brown);
            border-radius: 4px;
            padding: 20px;
            width: 200px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            transition: var(--transition);
            cursor: pointer;
            position: relative;
          }

          .member-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
            border-color: var(--accent-gold);
          }

          .member-card.selected {
            border-color: var(--accent-gold);
            background-color: #fffaf0;
            box-shadow: 0 0 0 3px rgba(212, 175, 55, 0.2);
          }

          .member-header {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid var(--dark-beige);
          }

          .member-icon {
            width: 50px;
            height: 50px;
            background-color: var(--accent-gold);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
            font-size: 24px;
            color: var(--leather-brown);
          }

          .member-name {
            font-family: "Cinzel", serif;
            font-size: 1.3rem;
            color: var(--leather-brown);
            text-align: left;
          }

          .member-name .arabic {
            font-family: "Noto Sans Arabic", sans-serif;
            font-size: 1.1rem;
            color: var(--primary-brown);
            display: block;
            margin-top: 5px;
          }

          .member-details {
            text-align: left;
            font-size: 0.95rem;
          }

          .member-details p {
            margin-bottom: 8px;
            display: flex;
            align-items: center;
          }

          .member-details i {
            margin-right: 8px;
            color: var(--secondary-brown);
            width: 18px;
          }

          .member-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
            margin-top: 15px;
          }

          .member-tag {
            background-color: var(--dark-beige);
            color: var(--leather-brown);
            padding: 3px 10px;
            border-radius: 2px;
            font-size: 0.8rem;
            font-family: "Cinzel", serif;
            letter-spacing: 0.3px;
          }

          /* Lignes de connexion */
          .tree-connections {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
            pointer-events: none;
          }

          .connection-line {
            position: absolute;
            background-color: var(--secondary-brown);
          }

          .vertical-line {
            width: 2px;
          }

          .horizontal-line {
            height: 2px;
          }

          /* Panneau de détails */
          .member-detail-panel {
            background-color: var(--paper-color);
            border: 2px solid var(--accent-gold);
            border-radius: 4px;
            padding: 30px;
            margin-top: 40px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
            display: none;
          }

          .member-detail-panel.active {
            display: block;
            animation: fadeIn 0.5s ease;
          }

          @keyframes fadeIn {
            from {
              opacity: 0;
              transform: translateY(20px);
            }
            to {
              opacity: 1;
              transform: translateY(0);
            }
          }

          .detail-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid var(--accent-gold);
          }

          .detail-title {
            font-family: "Cinzel", serif;
            font-size: 2rem;
            color: var(--leather-brown);
          }

          .detail-close {
            background: none;
            border: none;
            font-size: 24px;
            color: var(--secondary-brown);
            cursor: pointer;
            transition: var(--transition);
          }

          .detail-close:hover {
            color: var(--accent-gold);
          }

          .detail-content {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 40px;
          }

          @media (max-width: 1200px) {
            .detail-content {
              grid-template-columns: 1fr;
              gap: 30px;
            }
          }

          .detail-bio h4,
          .detail-family h4,
          .detail-archive h4 {
            font-family: "Cinzel", serif;
            font-size: 1.3rem;
            color: var(--leather-brown);
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid var(--dark-beige);
          }

          .detail-bio p {
            margin-bottom: 15px;
            line-height: 1.6;
          }

          .family-members {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-top: 20px;
          }

          .family-member {
            background-color: var(--light-beige);
            padding: 15px;
            border-radius: 4px;
            border-left: 4px solid var(--accent-gold);
            width: calc(50% - 8px);
          }

          @media (max-width: 768px) {
            .family-member {
              width: 100%;
            }
          }

          .family-member h5 {
            font-family: "Cinzel", serif;
            margin-bottom: 5px;
            color: var(--leather-brown);
          }

          .archive-items {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-top: 20px;
          }

          .archive-item {
            display: flex;
            align-items: center;
            padding: 12px 15px;
            background-color: var(--light-beige);
            border-radius: 4px;
            transition: var(--transition);
          }

          .archive-item:hover {
            background-color: var(--dark-beige);
          }

          .archive-icon {
            font-size: 24px;
            color: var(--accent-gold);
            margin-right: 15px;
          }

          /* Contrôles de l'arbre */
          .tree-controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid var(--dark-beige);
          }

          @media (max-width: 768px) {
            .tree-controls {
              flex-direction: column;
              gap: 20px;
              align-items: flex-start;
            }
          }

          .zoom-controls {
            display: flex;
            align-items: center;
            gap: 15px;
          }

          .zoom-btn {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: var(--light-beige);
            border: 2px solid var(--secondary-brown);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: var(--transition);
            color: var(--leather-brown);
          }

          .zoom-btn:hover {
            background-color: var(--accent-gold);
            border-color: var(--accent-gold);
            color: var(--leather-brown);
          }

          .tree-actions {
            display: flex;
            gap: 15px;
          }

          @media (max-width: 576px) {
            .tree-actions {
              flex-direction: column;
              width: 100%;
            }

            .tree-action-btn {
              width: 100%;
            }
          }

          .tree-action-btn {
            padding: 10px 20px;
            background-color: var(--leather-brown);
            color: var(--accent-gold);
            border: none;
            border-radius: 2px;
            cursor: pointer;
            transition: var(--transition);
            font-family: "Cinzel", serif;
            letter-spacing: 0.5px;
          }

          .tree-action-btn:hover {
            background-color: var(--accent-gold);
            color: var(--leather-brown);
          }

          /* Footer amélioré */
          footer {
            background-color: var(--leather-brown);
            color: var(--dark-beige);
            padding: 80px 0 40px;
            border-top: 5px solid var(--accent-gold);
            position: relative;
            overflow: hidden;
          }

          footer::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.143 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z' fill='%23d4af37' fill-opacity='0.03' fill-rule='evenodd'/%3E%3C/svg%3E");
            opacity: 0.1;
          }

          .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 50px;
            margin-bottom: 50px;
            position: relative;
            z-index: 1;
          }

          .footer-column h3 {
            font-family: "Cinzel", serif;
            font-size: 1.5rem;
            margin-bottom: 25px;
            color: var(--accent-gold);
            position: relative;
            padding-bottom: 15px;
          }

          .footer-column h3::after {
            content: "";
            position: absolute;
            width: 60px;
            height: 2px;
            background-color: var(--accent-gold);
            bottom: 0;
            left: 0;
          }

          .footer-links {
            list-style: none;
          }

          .footer-links li {
            margin-bottom: 15px;
            display: flex;
            align-items: center;
          }

          .footer-links li i {
            margin-right: 10px;
            color: var(--accent-gold);
            width: 20px;
          }

          .footer-links a {
            color: #ddd;
            text-decoration: none;
            transition: var(--transition);
            font-size: 1.1rem;
          }

          .footer-links a:hover {
            color: var(--accent-gold);
            padding-left: 10px;
          }

          .social-links {
            display: flex;
            gap: 15px;
            margin-top: 25px;
          }

          .social-links a {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 45px;
            height: 45px;
            background-color: rgba(212, 175, 55, 0.1);
            border-radius: 50%;
            color: var(--accent-gold);
            transition: var(--transition);
            border: 1px solid rgba(212, 175, 55, 0.3);
          }

          .social-links a:hover {
            background-color: var(--accent-gold);
            color: var(--leather-brown);
            transform: translateY(-5px);
          }

          .copyright {
            text-align: center;
            padding-top: 40px;
            border-top: 1px solid rgba(212, 175, 55, 0.2);
            font-size: 1rem;
            color: #aaa;
            position: relative;
            z-index: 1;
          }

          /* Animations */
          @keyframes fadeIn {
            from {
              opacity: 0;
              transform: translateY(20px);
            }
            to {
              opacity: 1;
              transform: translateY(0);
            }
          }

          /* Responsive */
          @media (max-width: 1200px) {
            .timeline-container::after {
              left: 31px;
            }

            .timeline-item {
              width: 100%;
              padding-left: 70px;
              padding-right: 25px;
            }

            .timeline-item:nth-child(even) {
              left: 0;
            }

            .timeline-content::after {
              left: -13px !important;
              right: auto;
            }

            .tree-diagram-container {
              overflow-x: scroll;
            }
          }

          @media (max-width: 992px) {
            nav ul {
              display: none;
              position: absolute;
              top: 100%;
              left: 0;
              width: 100%;
              background-color: var(--leather-brown);
              flex-direction: column;
              padding: 25px;
              box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
              border-top: 2px solid var(--accent-gold);
            }

            nav ul.active {
              display: flex;
            }

            .mobile-menu-btn {
              display: block;
            }

            .hero h1 {
              font-size: 3rem;
            }

            .section-title h2 {
              font-size: 2.5rem;
            }

            .tree-generation {
              flex-wrap: wrap;
            }

            .tree-member {
              margin-bottom: 20px;
            }
          }

          @media (max-width: 768px) {
            .hero h1 {
              font-size: 2.5rem;
            }

            .hero p {
              font-size: 1.2rem;
            }

            .section-title h2 {
              font-size: 2.2rem;
            }

            .tribe-stats {
              grid-template-columns: 1fr;
            }

            .stats-grid {
              grid-template-columns: repeat(2, 1fr);
            }

            .family-tree {
              min-width: 800px;
            }

            .member-card {
              width: 180px;
              padding: 15px;
            }
          }

          @media (max-width: 576px) {
            .stats-grid {
              grid-template-columns: 1fr;
            }

            .library-grid {
              grid-template-columns: 1fr;
            }

            .hero {
              padding: 80px 20px;
            }

            .member-card {
              width: 160px;
            }

            .member-name {
              font-size: 1.1rem;
            }

            .tree-navigation {
              flex-direction: column;
              align-items: center;
            }

            .tree-nav-btn {
              width: 100%;
              max-width: 300px;
            }

            .tribe-selector {
              flex-direction: column;
            }

            .tribe-btn {
              width: 100%;
            }
          }
        </style>
      </head>
      <body>
        <!-- Header -->
        <header>
          <div class="container">
            <div class="header-content">
              <div class="logo">
                <div class="logo-icon">
                  <i class="fas fa-book-open"></i>
                </div>
                <div class="logo-text">Tunisie<span>Généalogie</span>.tn</div>
              </div>

              <button class="mobile-menu-btn" id="mobileMenuBtn">
                <i class="fas fa-bars"></i>
              </button>

              <nav>
                <ul id="mainMenu">
                  <li><a href="#home">Accueil</a></li>
                  <li><a href="#stats">Statistiques</a></li>
                  <li><a href="#tribes">Tribus</a></li>
                  <li><a href="#antique">Antiquité</a></li>
                  <li><a href="#timeline">Chronologie</a></li>
                  <li><a href="#library">Bibliothèque</a></li>
                  <li><a href="#detailed-genealogy">Généalogie</a></li>
                  <li><a href="#contact">Contact</a></li>
                </ul>
              </nav>
            </div>
          </div>
        </header>

        <!-- Hero Section -->
        <section class="hero" id="home">
          <div class="container">
            <h1>Découvrez vos racines tunisiennes</h1>
            <p>
              Explorez l'histoire de votre famille à travers notre bibliothèque
              généalogique tunisienne. Retracez vos ancêtres, découvrez vos
              origines et connectez-vous avec votre patrimoine dans un cadre
              digne des plus grandes bibliothèques historiques.
            </p>
            <a href="#detailed-genealogy" class="cta-button"
              >Explorer les arbres généalogiques</a
            >
          </div>
        </section>

        <!-- Section : Statistiques -->
        <section class="stats-section" id="stats">
          <div class="container">
            <div class="section-title">
              <h2>Notre Patrimoine en Chiffres</h2>
              <p>
                Des milliers de documents et d'arbres généalogiques préservés
                pour les générations futures
              </p>
            </div>

            <div class="stats-grid">
              <div class="stat-card">
                <div class="stat-icon">
                  <i class="fas fa-tree"></i>
                </div>
                <div class="stat-number">2,500+</div>
                <div class="stat-text">Arbres Généalogiques</div>
              </div>

              <div class="stat-card">
                <div class="stat-icon">
                  <i class="fas fa-users"></i>
                </div>
                <div class="stat-number">15,000+</div>
                <div class="stat-text">Familles Documentées</div>
              </div>

              <div class="stat-card">
                <div class="stat-icon">
                  <i class="fas fa-book"></i>
                </div>
                <div class="stat-number">8,300+</div>
                <div class="stat-text">Documents d'Archives</div>
              </div>

              <div class="stat-card">
                <div class="stat-icon">
                  <i class="fas fa-map-marked-alt"></i>
                </div>
                <div class="stat-number">24</div>
                <div class="stat-text">Gouvernorats Couverts</div>
              </div>
            </div>
          </div>
        </section>

        <!-- NOUVELLE SECTION : CARTE DES TRIBUS TUNISIENNES -->
        <section class="tribes-section" id="tribes">
          <div class="container">
            <div class="section-title">
              <h2>Carte des Tribus Tunisiennes</h2>
              <p>
                Explorez la répartition géographique des principales tribus et
                confédérations tribales de Tunisie
              </p>
            </div>

            <div class="tribes-container">
              <div class="tribes-map-container">
                <div id="tribes-map"></div>
              </div>

              <div class="tribes-info">
                <div class="tribe-selector">
                  <button class="tribe-btn active" data-tribe="hilal">
                    Banu Hilal
                  </button>
                  <button class="tribe-btn" data-tribe="sulaym">
                    Banu Sulaym
                  </button>
                  <button class="tribe-btn" data-tribe="drid">Drid</button>
                  <button class="tribe-btn" data-tribe="jerid">Jerid</button>
                  <button class="tribe-btn" data-tribe="sfax">Sfax</button>
                </div>

                <div class="tribe-details active" id="hilal-details">
                  <h3>
                    Banu Hilal <span class="arabic-font">(بنو هلال)</span>
                  </h3>
                  <p>
                    Confédération tribale arabe qui a migré vers l'Afrique du
                    Nord au XIe siècle. Leur arrivée a profondément transformé
                    la démographie et la culture de la Tunisie.
                  </p>

                  <h4>Répartition géographique</h4>
                  <p>
                    Principalement dans le centre et le sud de la Tunisie, avec
                    une forte présence dans les régions de Kairouan, Sidi Bouzid
                    et Gafsa.
                  </p>

                  <h4>Sous-tribus principales</h4>
                  <p>Riyah, Athbaj, Zughba, Adi, Jochem</p>

                  <div class="tribe-stats">
                    <div class="tribe-stat">
                      <i class="fas fa-history"></i>
                      <h5>Arrivée en Tunisie</h5>
                      <p>XIe siècle</p>
                    </div>
                    <div class="tribe-stat">
                      <i class="fas fa-language"></i>
                      <h5>Dialecte</h5>
                      <p>Arabe hilalien</p>
                    </div>
                    <div class="tribe-stat">
                      <i class="fas fa-route"></i>
                      <h5>Migration</h5>
                      <p>Péninsule arabique</p>
                    </div>
                    <div class="tribe-stat">
                      <i class="fas fa-user-friends"></i>
                      <h5>Importance</h5>
                      <p>Très élevée</p>
                    </div>
                  </div>
                </div>

                <div class="tribe-details" id="sulaym-details">
                  <h3>
                    Banu Sulaym <span class="arabic-font">(بنو سليم)</span>
                  </h3>
                  <p>
                    Confédération tribale arabe arrivée en Tunisie à la même
                    période que les Banu Hilal. Ils se sont principalement
                    établis dans l'est et le sud-est du pays.
                  </p>

                  <h4>Répartition géographique</h4>
                  <p>
                    Régions de Sousse, Monastir, Mahdia, Sfax et les îles de
                    Kerkennah.
                  </p>

                  <h4>Sous-tribus principales</h4>
                  <p>Hebib, Awlad Yacoub, Douaouda, Awlad Sidi Abid</p>

                  <div class="tribe-stats">
                    <div class="tribe-stat">
                      <i class="fas fa-history"></i>
                      <h5>Arrivée en Tunisie</h5>
                      <p>XIe siècle</p>
                    </div>
                    <div class="tribe-stat">
                      <i class="fas fa-language"></i>
                      <h5>Dialecte</h5>
                      <p>Arabe sulaymite</p>
                    </div>
                    <div class="tribe-stat">
                      <i class="fas fa-route"></i>
                      <h5>Migration</h5>
                      <p>Péninsule arabique</p>
                    </div>
                    <div class="tribe-stat">
                      <i class="fas fa-user-friends"></i>
                      <h5>Importance</h5>
                      <p>Élevée</p>
                    </div>
                  </div>
                </div>

                <div class="tribe-details" id="drid-details">
                  <h3>Drid <span class="arabic-font">(الدريد)</span></h3>
                  <p>
                    Population berbère originaire du sud-ouest tunisien,
                    principalement établie dans la région de Nefzaoua et les
                    oasis du Djérid.
                  </p>

                  <h4>Répartition géographique</h4>
                  <p>Régions de Tozeur, Nefta, Douz et Kebili.</p>

                  <h4>Caractéristiques culturelles</h4>
                  <p>
                    Architecture spécifique des oasis, traditions agricoles,
                    musique et costumes distinctifs.
                  </p>

                  <div class="tribe-stats">
                    <div class="tribe-stat">
                      <i class="fas fa-history"></i>
                      <h5>Origine</h5>
                      <p>Berbère ancienne</p>
                    </div>
                    <div class="tribe-stat">
                      <i class="fas fa-language"></i>
                      <h5>Dialecte</h5>
                      <p>Berbère et arabe</p>
                    </div>
                    <div class="tribe-stat">
                      <i class="fas fa-seedling"></i>
                      <h5>Activité principale</h5>
                      <p>Agriculture oasienne</p>
                    </div>
                    <div class="tribe-stat">
                      <i class="fas fa-user-friends"></i>
                      <h5>Importance</h5>
                      <p>Régionale</p>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div class="section-intro">
              <p>
                La structure tribale de la Tunisie a profondément influencé son
                histoire sociale et politique. Explorez les migrations, les
                alliances et les caractéristiques culturelles des principales
                tribus qui ont façonné l'identité tunisienne.
              </p>
            </div>
          </div>
        </section>

        <!-- NOUVELLE SECTION : CIVILISATIONS ANTIQUES -->
        <section class="antique-section" id="antique">
          <div class="container">
            <div class="section-title">
              <h2>Civilisations Antiques</h2>
              <p>
                Les racines pré-islamiques de la Tunisie : des Phéniciens aux
                Byzantins
              </p>
            </div>

            <div class="antique-grid">
              <div class="antique-card">
                <div class="antique-icon">
                  <i class="fas fa-ship"></i>
                </div>
                <h3>Phéniciens & Carthage</h3>
                <p><strong>Période :</strong> 814 av. J.-C. - 146 av. J.-C.</p>
                <p>
                  Fondation de Carthage par la princesse phénicienne Élyssa
                  (Didon). Développement d'un empire commercial méditerranéen,
                  conflits avec Rome (Guerres puniques).
                </p>
                <div class="timeline-tags">
                  <span class="timeline-tag">Fondation: 814 av. J.-C.</span>
                  <span class="timeline-tag">Hannibal Barca</span>
                  <span class="timeline-tag">Guerres puniques</span>
                </div>
              </div>

              <div class="antique-card">
                <div class="antique-icon">
                  <i class="fas fa-landmark"></i>
                </div>
                <h3>Romain & Byzantins</h3>
                <p><strong>Période :</strong> 146 av. J.-C. - 647 ap. J.-C.</p>
                <p>
                  L'Afrique proconsulaire devient un grenier à blé de Rome.
                  Christianisation, construction d'amphithéâtres, thermes et
                  villes romaines. Période byzantine après la chute de Rome.
                </p>
                <div class="timeline-tags">
                  <span class="timeline-tag">Afrique romaine</span>
                  <span class="timeline-tag">Christianisation</span>
                  <span class="timeline-tag">Byzantins</span>
                </div>
              </div>

              <div class="antique-card">
                <div class="antique-icon">
                  <i class="fas fa-archway"></i>
                </div>
                <h3>Patrimoine Archéologique</h3>
                <p>
                  <strong>Sites majeurs :</strong> Carthage, Dougga, El Jem,
                  Bulla Regia
                </p>
                <p>
                  Vestiges exceptionnels classés au patrimoine mondial de
                  l'UNESCO. Mosaïques, amphithéâtres, temples et cités romaines
                  témoignent de cette riche période historique.
                </p>
                <div class="timeline-tags">
                  <span class="timeline-tag">UNESCO</span>
                  <span class="timeline-tag">Amphithéâtre d'El Jem</span>
                  <span class="timeline-tag">Mosaïques</span>
                </div>
              </div>
            </div>

            <div class="section-intro">
              <p>
                Avant l'arrivée de l'Islam, la Tunisie fut le berceau de grandes
                civilisations méditerranéennes qui ont laissé un patrimoine
                archéologique et culturel exceptionnel, fondement de l'identité
                historique tunisienne.
              </p>
            </div>
          </div>
        </section>

        <!-- NOUVELLE SECTION : CHRONOLOGIE HISTORIQUE -->
        <section class="timeline-section" id="timeline">
          <div class="container">
            <div class="section-title">
              <h2>Chronologie Historique</h2>
              <p>
                Les grandes étapes de l'histoire tunisienne qui ont façonné la
                société et les familles
              </p>
            </div>

            <div class="timeline-container">
              <!-- NOUVELLE PÉRIODE : CIVILISATIONS ANTIQUES -->
              <div class="timeline-item">
                <div class="timeline-content">
                  <span class="timeline-date"
                    >XIIe siècle av. J.-C. - VIIe siècle</span
                  >
                  <h3>Civilisations Antiques</h3>
                  <p>
                    Les Phéniciens fondent Carthage en 814 av. J.-C., suivie des
                    périodes punique, romaine, vandale et byzantine. Carthage
                    devient une puissance méditerranéenne majeure avant d'être
                    conquise par Rome en 146 av. J.-C.
                  </p>
                  <div class="timeline-tags">
                    <span class="timeline-tag">Phéniciens</span>
                    <span class="timeline-tag">Carthage</span>
                    <span class="timeline-tag">Rome</span>
                    <span class="timeline-tag">Byzantins</span>
                  </div>
                </div>
              </div>

              <div class="timeline-item">
                <div class="timeline-content">
                  <span class="timeline-date">VIIe siècle</span>
                  <h3>Arrivée de l'Islam</h3>
                  <p>
                    Conquête arabe et islamisation de l'Ifriqiya. Fondation de
                    Kairouan par Oqba Ibn Nafi en 670, devenant un centre
                    religieux et intellectuel majeur.
                  </p>
                  <div class="timeline-tags">
                    <span class="timeline-tag">Conquête arabe</span>
                    <span class="timeline-tag">Fondation de Kairouan</span>
                    <span class="timeline-tag">Islamisation</span>
                  </div>
                </div>
              </div>

              <div class="timeline-item">
                <div class="timeline-content">
                  <span class="timeline-date">XIe siècle</span>
                  <h3>Migration des tribus hilaliennes</h3>
                  <p>
                    Arrivée massive des tribus Banu Hilal et Banu Sulaym depuis
                    l'Égypte, transformant durablement la démographie et la
                    culture de la Tunisie.
                  </p>
                  <div class="timeline-tags">
                    <span class="timeline-tag">Banu Hilal</span>
                    <span class="timeline-tag">Banu Sulaym</span>
                    <span class="timeline-tag">Migration tribale</span>
                  </div>
                </div>
              </div>

              <div class="timeline-item">
                <div class="timeline-content">
                  <span class="timeline-date">1229-1574</span>
                  <h3>Dynastie Hafside</h3>
                  <p>
                    Âge d'or de la Tunisie médiévale. Tunis devient la capitale
                    et un centre commercial et culturel important de la
                    Méditerranée.
                  </p>
                  <div class="timeline-tags">
                    <span class="timeline-tag">Dynastie Hafside</span>
                    <span class="timeline-tag">Âge d'or</span>
                    <span class="timeline-tag">Capitale Tunis</span>
                  </div>
                </div>
              </div>

              <div class="timeline-item">
                <div class="timeline-content">
                  <span class="timeline-date">1705-1957</span>
                  <h3>Dynastie Husseinite</h3>
                  <p>
                    Règne de la dynastie husseinite, période de modernisation et
                    de réformes, aboutissant au protectorat français (1881-1956)
                    puis à l'indépendance.
                  </p>
                  <div class="timeline-tags">
                    <span class="timeline-tag">Dynastie Husseinite</span>
                    <span class="timeline-tag">Protectorat français</span>
                    <span class="timeline-tag">Modernisation</span>
                  </div>
                </div>
              </div>

              <div class="timeline-item">
                <div class="timeline-content">
                  <span class="timeline-date">1956</span>
                  <h3>Indépendance de la Tunisie</h3>
                  <p>
                    Proclamation de l'indépendance sous la direction de Habib
                    Bourguiba. Modernisation de la société et réformes sociales
                    importantes.
                  </p>
                  <div class="timeline-tags">
                    <span class="timeline-tag">Indépendance</span>
                    <span class="timeline-tag">Habib Bourguiba</span>
                    <span class="timeline-tag">Réformes sociales</span>
                  </div>
                </div>
              </div>
            </div>

            <div class="section-intro">
              <p>
                Cette chronologie retrace les grandes périodes qui ont marqué
                l'histoire de la Tunisie, de l'antiquité à nos jours, offrant un
                contexte essentiel pour comprendre l'évolution des familles et
                des structures sociales tunisiennes.
              </p>
            </div>
          </div>
        </section>

        <!-- NOUVELLE SECTION : BIBLIOTHÈQUE NUMÉRIQUE -->
        <section class="library-section" id="library">
          <div class="container">
            <div class="section-title">
              <h2>Bibliothèque Numérique</h2>
              <p>
                Accédez à notre collection de documents historiques, archives
                familiales et ressources généalogiques
              </p>
            </div>

            <div class="library-filter">
              <button class="library-btn active" data-category="all">
                Tous les documents
              </button>
              <button class="library-btn" data-category="archives">
                Archives familiales
              </button>
              <button class="library-btn" data-category="manuscrits">
                Manuscrits
              </button>
              <button class="library-btn" data-category="cartes">
                Cartes historiques
              </button>
              <button class="library-btn" data-category="photos">
                Photographies
              </button>
            </div>

            <div class="library-grid">
              <div class="library-item" data-category="manuscrits">
                <div
                  class="library-img"
                  style="
                    background-image: url('https://images.unsplash.com/photo-1588666309990-d68f08e3d4c6?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80');
                  "
                >
                  <div class="library-overlay">
                    <div class="library-category">Manuscrit</div>
                  </div>
                </div>
                <div class="library-content">
                  <h3>
                    Registres des Naissances - Médina de Tunis (1850-1900)
                  </h3>
                  <p>
                    Collection complète des registres de naissance de la Médina
                    de Tunis couvrant la période 1850-1900, avec index des noms
                    de famille.
                  </p>
                  <div class="library-meta">
                    <span><i class="fas fa-calendar"></i> XIXe siècle</span>
                    <span><i class="fas fa-file-alt"></i> 320 pages</span>
                  </div>
                </div>
              </div>

              <div class="library-item" data-category="cartes">
                <div
                  class="library-img"
                  style="
                    background-image: url('https://images.unsplash.com/photo-1542310503-ff8da9c02372?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80');
                  "
                >
                  <div class="library-overlay">
                    <div class="library-category">Carte historique</div>
                  </div>
                </div>
                <div class="library-content">
                  <h3>Atlas des Tribus Tunisiennes (1890)</h3>
                  <p>
                    Carte détaillée de la répartition géographique des tribus et
                    confédérations tribales en Tunisie à la fin du XIXe siècle.
                  </p>
                  <div class="library-meta">
                    <span><i class="fas fa-calendar"></i> 1890</span>
                    <span><i class="fas fa-map"></i> 45x60 cm</span>
                  </div>
                </div>
              </div>

              <div class="library-item" data-category="archives">
                <div
                  class="library-img"
                  style="
                    background-image: url('https://images.unsplash.com/photo-1564501049418-3c27787d01e8?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80');
                  "
                >
                  <div class="library-overlay">
                    <div class="library-category">Archives familiales</div>
                  </div>
                </div>
                <div class="library-content">
                  <h3>Fonds de la Famille Ben Achour</h3>
                  <p>
                    Archives complètes de la célèbre famille de lettrés et
                    oulémas tunisois, incluant correspondances, actes notariés
                    et arbres généalogiques.
                  </p>
                  <div class="library-meta">
                    <span><i class="fas fa-calendar"></i> 1750-1950</span>
                    <span><i class="fas fa-box"></i> 12 volumes</span>
                  </div>
                </div>
              </div>

              <div class="library-item" data-category="photos">
                <div
                  class="library-img"
                  style="
                    background-image: url('https://images.unsplash.com/photo-1513475382585-d06e58bcb0e0?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80');
                  "
                >
                  <div class="library-overlay">
                    <div class="library-category">Photographies</div>
                  </div>
                </div>
                <div class="library-content">
                  <h3>Album Photographique - Tunis 1900-1950</h3>
                  <p>
                    Collection de photographies historiques de Tunis et de ses
                    habitants durant la première moitié du XXe siècle.
                  </p>
                  <div class="library-meta">
                    <span><i class="fas fa-calendar"></i> 1900-1950</span>
                    <span><i class="fas fa-images"></i> 145 photos</span>
                  </div>
                </div>
              </div>
            </div>

            <div class="section-intro">
              <p>
                Notre bibliothèque numérique met à disposition une vaste
                collection de documents historiques numérisés, accessibles à
                tous les chercheurs et passionnés d'histoire familiale
                tunisienne.
              </p>
            </div>
          </div>
        </section>

        <!-- Section généalogique détaillée (existante) -->
        <section class="detailed-genealogy-section" id="detailed-genealogy">
          <div class="container">
            <div class="section-title">
              <h2>Carte Généalogique Détaillée</h2>
              <p>
                Explorez les relations familiales complexes à travers les
                générations
              </p>
            </div>

            <div class="genealogy-container">
              <div class="family-tree-viewer">
                <div class="tree-header">
                  <h3>Famille Husseinite - Arbre Dynastique</h3>
                  <p>
                    Dynastie régnante de Tunisie de 1705 à 1957. Cliquez sur les
                    membres pour voir les détails complets.
                  </p>
                </div>

                <div class="tree-navigation">
                  <button class="tree-nav-btn active" data-tree="husseinite">
                    Famille Husseinite
                  </button>
                  <button class="tree-nav-btn" data-tree="medina">
                    Familles de la Médina
                  </button>
                  <button class="tree-nav-btn" data-tree="djerba">
                    Familles de Djerba
                  </button>
                  <button class="tree-nav-btn" data-tree="sfax">
                    Familles de Sfax
                  </button>
                </div>

                <div class="tree-diagram-container">
                  <div class="family-tree" id="husseinite-tree">
                    <!-- Génération 1 -->
                    <div class="tree-generation" data-gen="1">
                      <div class="tree-member">
                        <div class="member-card" data-member="hussein1">
                          <div class="member-header">
                            <div class="member-icon">
                              <i class="fas fa-crown"></i>
                            </div>
                            <div class="member-name">
                              Hussein I Ben Ali
                              <span class="arabic">الحسين بن علي</span>
                            </div>
                          </div>
                          <div class="member-details">
                            <p><i class="fas fa-calendar"></i> 1669 - 1740</p>
                            <p>
                              <i class="fas fa-map-marker-alt"></i> Tunis,
                              Tunisie
                            </p>
                            <p>
                              <i class="fas fa-user-tag"></i> Fondateur de la
                              dynastie
                            </p>
                          </div>
                          <div class="member-tags">
                            <span class="member-tag">Bey</span>
                            <span class="member-tag">Fondateur</span>
                          </div>
                        </div>
                      </div>
                    </div>

                    <!-- Génération 2 -->
                    <div class="tree-generation" data-gen="2">
                      <div class="tree-member">
                        <div class="member-card" data-member="ali1">
                          <div class="member-header">
                            <div class="member-icon">
                              <i class="fas fa-crown"></i>
                            </div>
                            <div class="member-name">
                              Ali I Pacha
                              <span class="arabic">علي باشا</span>
                            </div>
                          </div>
                          <div class="member-details">
                            <p><i class="fas fa-calendar"></i> 1688 - 1756</p>
                            <p>
                              <i class="fas fa-map-marker-alt"></i> Tunis,
                              Tunisie
                            </p>
                            <p><i class="fas fa-user-tag"></i> Bey de Tunis</p>
                          </div>
                          <div class="member-tags">
                            <span class="member-tag">Bey</span>
                            <span class="member-tag">Règne: 1735-1756</span>
                          </div>
                        </div>
                      </div>

                      <div class="tree-member">
                        <div class="member-card" data-member="muhammad1">
                          <div class="member-header">
                            <div class="member-icon">
                              <i class="fas fa-crown"></i>
                            </div>
                            <div class="member-name">
                              Muhammad I ar-Rashid
                              <span class="arabic">محمد الرشيد</span>
                            </div>
                          </div>
                          <div class="member-details">
                            <p><i class="fas fa-calendar"></i> 1710 - 1759</p>
                            <p>
                              <i class="fas fa-map-marker-alt"></i> Tunis,
                              Tunisie
                            </p>
                            <p><i class="fas fa-user-tag"></i> Bey de Tunis</p>
                          </div>
                          <div class="member-tags">
                            <span class="member-tag">Bey</span>
                            <span class="member-tag">Règne: 1756-1759</span>
                          </div>
                        </div>
                      </div>
                    </div>

                    <!-- Génération 3 -->
                    <div class="tree-generation" data-gen="3">
                      <div class="tree-member">
                        <div class="member-card" data-member="ali2">
                          <div class="member-header">
                            <div class="member-icon">
                              <i class="fas fa-crown"></i>
                            </div>
                            <div class="member-name">
                              Ali II ibn Hussein
                              <span class="arabic">علي الثاني بن حسين</span>
                            </div>
                          </div>
                          <div class="member-details">
                            <p><i class="fas fa-calendar"></i> 1712 - 1782</p>
                            <p>
                              <i class="fas fa-map-marker-alt"></i> Tunis,
                              Tunisie
                            </p>
                            <p><i class="fas fa-user-tag"></i> Bey de Tunis</p>
                          </div>
                          <div class="member-tags">
                            <span class="member-tag">Bey</span>
                            <span class="member-tag">Règne: 1759-1782</span>
                          </div>
                        </div>
                      </div>

                      <div class="tree-member">
                        <div class="member-card" data-member="hammuda">
                          <div class="member-header">
                            <div class="member-icon">
                              <i class="fas fa-crown"></i>
                            </div>
                            <div class="member-name">
                              Hammuda ibn Ali
                              <span class="arabic">حمودة بن علي</span>
                            </div>
                          </div>
                          <div class="member-details">
                            <p><i class="fas fa-calendar"></i> 1759 - 1814</p>
                            <p>
                              <i class="fas fa-map-marker-alt"></i> Tunis,
                              Tunisie
                            </p>
                            <p><i class="fas fa-user-tag"></i> Bey de Tunis</p>
                          </div>
                          <div class="member-tags">
                            <span class="member-tag">Bey</span>
                            <span class="member-tag">Règne: 1782-1814</span>
                          </div>
                        </div>
                      </div>

                      <div class="tree-member">
                        <div class="member-card" data-member="uthman">
                          <div class="member-header">
                            <div class="member-icon">
                              <i class="fas fa-user"></i>
                            </div>
                            <div class="member-name">
                              Uthman ibn Ali
                              <span class="arabic">عثمان بن علي</span>
                            </div>
                          </div>
                          <div class="member-details">
                            <p><i class="fas fa-calendar"></i> 1723 - 1795</p>
                            <p>
                              <i class="fas fa-map-marker-alt"></i> Tunis,
                              Tunisie
                            </p>
                            <p>
                              <i class="fas fa-user-tag"></i> Prince husseinite
                            </p>
                          </div>
                          <div class="member-tags">
                            <span class="member-tag">Prince</span>
                            <span class="member-tag">Gouverneur</span>
                          </div>
                        </div>
                      </div>
                    </div>

                    <!-- Génération 4 -->
                    <div class="tree-generation" data-gen="4">
                      <div class="tree-member">
                        <div class="member-card" data-member="muhammad2">
                          <div class="member-header">
                            <div class="member-icon">
                              <i class="fas fa-crown"></i>
                            </div>
                            <div class="member-name">
                              Muhammad II ibn Mahmud
                              <span class="arabic">محمد الثاني بن محمود</span>
                            </div>
                          </div>
                          <div class="member-details">
                            <p><i class="fas fa-calendar"></i> 1811 - 1859</p>
                            <p>
                              <i class="fas fa-map-marker-alt"></i> Tunis,
                              Tunisie
                            </p>
                            <p><i class="fas fa-user-tag"></i> Bey de Tunis</p>
                          </div>
                          <div class="member-tags">
                            <span class="member-tag">Bey</span>
                            <span class="member-tag">Règne: 1855-1859</span>
                          </div>
                        </div>
                      </div>

                      <div class="tree-member">
                        <div class="member-card" data-member="muhammad3">
                          <div class="member-header">
                            <div class="member-icon">
                              <i class="fas fa-crown"></i>
                            </div>
                            <div class="member-name">
                              Muhammad III as-Sadiq
                              <span class="arabic">محمد الصادق</span>
                            </div>
                          </div>
                          <div class="member-details">
                            <p><i class="fas fa-calendar"></i> 1813 - 1882</p>
                            <p>
                              <i class="fas fa-map-marker-alt"></i> Tunis,
                              Tunisie
                            </p>
                            <p><i class="fas fa-user-tag"></i> Bey de Tunis</p>
                          </div>
                          <div class="member-tags">
                            <span class="member-tag">Bey</span>
                            <span class="member-tag">Règne: 1859-1882</span>
                          </div>
                        </div>
                      </div>

                      <div class="tree-member">
                        <div class="member-card" data-member="ahmed">
                          <div class="member-header">
                            <div class="member-icon">
                              <i class="fas fa-user"></i>
                            </div>
                            <div class="member-name">
                              Ahmed I ibn Mustafa
                              <span class="arabic">أحمد بن مصطفى</span>
                            </div>
                          </div>
                          <div class="member-details">
                            <p><i class="fas fa-calendar"></i> 1806 - 1855</p>
                            <p>
                              <i class="fas fa-map-marker-alt"></i> Tunis,
                              Tunisie
                            </p>
                            <p><i class="fas fa-user-tag"></i> Bey de Tunis</p>
                          </div>
                          <div class="member-tags">
                            <span class="member-tag">Bey</span>
                            <span class="member-tag">Règne: 1837-1855</span>
                          </div>
                        </div>
                      </div>
                    </div>

                    <!-- Génération 5 -->
                    <div class="tree-generation" data-gen="5">
                      <div class="tree-member">
                        <div class="member-card" data-member="ali3">
                          <div class="member-header">
                            <div class="member-icon">
                              <i class="fas fa-crown"></i>
                            </div>
                            <div class="member-name">
                              Ali III Muddat ibn al-Husayn
                              <span class="arabic">علي الثالث بن الحسين</span>
                            </div>
                          </div>
                          <div class="member-details">
                            <p><i class="fas fa-calendar"></i> 1817 - 1902</p>
                            <p>
                              <i class="fas fa-map-marker-alt"></i> Tunis,
                              Tunisie
                            </p>
                            <p><i class="fas fa-user-tag"></i> Bey de Tunis</p>
                          </div>
                          <div class="member-tags">
                            <span class="member-tag">Bey</span>
                            <span class="member-tag">Règne: 1882-1902</span>
                          </div>
                        </div>
                      </div>

                      <div class="tree-member">
                        <div class="member-card" data-member="muhammad4">
                          <div class="member-header">
                            <div class="member-icon">
                              <i class="fas fa-crown"></i>
                            </div>
                            <div class="member-name">
                              Muhammad IV al-Hadi
                              <span class="arabic">محمد الهادي</span>
                            </div>
                          </div>
                          <div class="member-details">
                            <p><i class="fas fa-calendar"></i> 1855 - 1906</p>
                            <p>
                              <i class="fas fa-map-marker-alt"></i> Tunis,
                              Tunisie
                            </p>
                            <p><i class="fas fa-user-tag"></i> Bey de Tunis</p>
                          </div>
                          <div class="member-tags">
                            <span class="member-tag">Bey</span>
                            <span class="member-tag">Règne: 1902-1906</span>
                          </div>
                        </div>
                      </div>

                      <div class="tree-member">
                        <div class="member-card" data-member="muhammad5">
                          <div class="member-header">
                            <div class="member-icon">
                              <i class="fas fa-crown"></i>
                            </div>
                            <div class="member-name">
                              Muhammad V an-Nasir
                              <span class="arabic">محمد الناصر</span>
                            </div>
                          </div>
                          <div class="member-details">
                            <p><i class="fas fa-calendar"></i> 1855 - 1922</p>
                            <p>
                              <i class="fas fa-map-marker-alt"></i> Tunis,
                              Tunisie
                            </p>
                            <p><i class="fas fa-user-tag"></i> Bey de Tunis</p>
                          </div>
                          <div class="member-tags">
                            <span class="member-tag">Bey</span>
                            <span class="member-tag">Règne: 1906-1922</span>
                          </div>
                        </div>
                      </div>
                    </div>

                    <!-- Génération 6 -->
                    <div class="tree-generation" data-gen="6">
                      <div class="tree-member">
                        <div class="member-card" data-member="muhammad6">
                          <div class="member-header">
                            <div class="member-icon">
                              <i class="fas fa-crown"></i>
                            </div>
                            <div class="member-name">
                              Muhammad VI al-Habib
                              <span class="arabic">محمد الحبيب</span>
                            </div>
                          </div>
                          <div class="member-details">
                            <p><i class="fas fa-calendar"></i> 1858 - 1929</p>
                            <p>
                              <i class="fas fa-map-marker-alt"></i> Tunis,
                              Tunisie
                            </p>
                            <p><i class="fas fa-user-tag"></i> Bey de Tunis</p>
                          </div>
                          <div class="member-tags">
                            <span class="member-tag">Bey</span>
                            <span class="member-tag">Règne: 1922-1929</span>
                          </div>
                        </div>
                      </div>

                      <div class="tree-member">
                        <div class="member-card" data-member="ahmed2">
                          <div class="member-header">
                            <div class="member-icon">
                              <i class="fas fa-crown"></i>
                            </div>
                            <div class="member-name">
                              Ahmad II ibn Ali
                              <span class="arabic">أحمد الثاني بن علي</span>
                            </div>
                          </div>
                          <div class="member-details">
                            <p><i class="fas fa-calendar"></i> 1862 - 1942</p>
                            <p>
                              <i class="fas fa-map-marker-alt"></i> Tunis,
                              Tunisie
                            </p>
                            <p><i class="fas fa-user-tag"></i> Bey de Tunis</p>
                          </div>
                          <div class="member-tags">
                            <span class="member-tag">Bey</span>
                            <span class="member-tag">Règne: 1929-1942</span>
                          </div>
                        </div>
                      </div>
                    </div>

                    <!-- Génération 7 -->
                    <div class="tree-generation" data-gen="7">
                      <div class="tree-member">
                        <div class="member-card" data-member="muhammad7">
                          <div class="member-header">
                            <div class="member-icon">
                              <i class="fas fa-crown"></i>
                            </div>
                            <div class="member-name">
                              Muhammad VII al-Munsif
                              <span class="arabic">محمد المنصف</span>
                            </div>
                          </div>
                          <div class="member-details">
                            <p><i class="fas fa-calendar"></i> 1881 - 1948</p>
                            <p>
                              <i class="fas fa-map-marker-alt"></i> Tunis,
                              Tunisie
                            </p>
                            <p><i class="fas fa-user-tag"></i> Bey de Tunis</p>
                          </div>
                          <div class="member-tags">
                            <span class="member-tag">Bey</span>
                            <span class="member-tag">Règne: 1942-1943</span>
                          </div>
                        </div>
                      </div>

                      <div class="tree-member">
                        <div class="member-card" data-member="muhammad8">
                          <div class="member-header">
                            <div class="member-icon">
                              <i class="fas fa-crown"></i>
                            </div>
                            <div class="member-name">
                              Muhammad VIII al-Amin
                              <span class="arabic">محمد الأمين</span>
                            </div>
                          </div>
                          <div class="member-details">
                            <p><i class="fas fa-calendar"></i> 1881 - 1962</p>
                            <p>
                              <i class="fas fa-map-marker-alt"></i> Tunis,
                              Tunisie
                            </p>
                            <p>
                              <i class="fas fa-user-tag"></i> Dernier Bey de
                              Tunis
                            </p>
                          </div>
                          <div class="member-tags">
                            <span class="member-tag">Bey</span>
                            <span class="member-tag">Règne: 1943-1956</span>
                            <span class="member-tag">Roi: 1956-1957</span>
                          </div>
                        </div>
                      </div>
                    </div>

                    <!-- Lignes de connexion (seront générées par JavaScript) -->
                    <div class="tree-connections" id="tree-connections"></div>
                  </div>
                </div>

                <!-- Panneau de détails -->
                <div class="member-detail-panel" id="member-detail-panel">
                  <div class="detail-header">
                    <h3 class="detail-title" id="detail-title">
                      Détails du membre
                    </h3>
                    <button class="detail-close" id="detail-close">
                      <i class="fas fa-times"></i>
                    </button>
                  </div>
                  <div class="detail-content">
                    <div class="detail-bio">
                      <h4>Biographie</h4>
                      <p id="detail-bio">
                        Sélectionnez un membre pour voir sa biographie complète.
                      </p>
                      <div class="member-tags" id="detail-tags"></div>
                    </div>
                    <div class="detail-family">
                      <h4>Famille et relations</h4>
                      <div class="family-members" id="detail-family"></div>
                    </div>
                    <div class="detail-archive">
                      <h4>Documents et archives</h4>
                      <div class="archive-items" id="detail-archives"></div>
                    </div>
                  </div>
                </div>

                <!-- Contrôles -->
                <div class="tree-controls">
                  <div class="zoom-controls">
                    <button class="zoom-btn" id="zoom-out">
                      <i class="fas fa-search-minus"></i>
                    </button>
                    <span>Zoom: <span id="zoom-level">100%</span></span>
                    <button class="zoom-btn" id="zoom-in">
                      <i class="fas fa-search-plus"></i>
                    </button>
                  </div>
                  <div class="tree-actions">
                    <button class="tree-action-btn" id="reset-view">
                      <i class="fas fa-sync-alt"></i> Réinitialiser la vue
                    </button>
                    <button class="tree-action-btn" id="export-tree">
                      <i class="fas fa-download"></i> Exporter l'arbre
                    </button>
                    <button class="tree-action-btn" id="print-tree">
                      <i class="fas fa-print"></i> Imprimer
                    </button>
                  </div>
                </div>
              </div>
            </div>

            <div class="section-intro">
              <p>
                Notre carte généalogique interactive vous permet d'explorer les
                relations familiales complexes des grandes dynasties
                tunisiennes. Cliquez sur les membres pour découvrir leur
                histoire complète, leurs relations familiales et les documents
                d'archives disponibles.
              </p>
            </div>
          </div>
        </section>

        <!-- Footer -->
        <footer id="contact">
          <div class="container">
            <div class="footer-content">
              <div class="footer-column">
                <h3>TunisieGénéalogie.tn</h3>
                <p>
                  La référence pour la généalogie tunisienne en ligne. Notre
                  mission est de préserver et partager l'histoire familiale
                  tunisienne dans un cadre digne des plus grandes bibliothèques
                  historiques.
                </p>
                <div class="social-links">
                  <a href="#"><i class="fab fa-facebook-f"></i></a>
                  <a href="#"><i class="fab fa-twitter"></i></a>
                  <a href="#"><i class="fab fa-instagram"></i></a>
                  <a href="#"><i class="fab fa-youtube"></i></a>
                </div>
              </div>

              <div class="footer-column">
                <h3>Liens rapides</h3>
                <ul class="footer-links">
                  <li>
                    <a href="#home"><i class="fas fa-home"></i> Accueil</a>
                  </li>
                  <li>
                    <a href="#stats"
                      ><i class="fas fa-chart-bar"></i> Statistiques</a
                    >
                  </li>
                  <li>
                    <a href="#tribes"
                      ><i class="fas fa-map-marked-alt"></i> Tribus
                      Tunisiennes</a
                    >
                  </li>
                  <li>
                    <a href="#antique"
                      ><i class="fas fa-landmark"></i> Civilisations Antiques</a
                    >
                  </li>
                  <li>
                    <a href="#timeline"
                      ><i class="fas fa-history"></i> Chronologie</a
                    >
                  </li>
                  <li>
                    <a href="#library"
                      ><i class="fas fa-book"></i> Bibliothèque</a
                    >
                  </li>
                  <li>
                    <a href="#detailed-genealogy"
                      ><i class="fas fa-tree"></i> Généalogie</a
                    >
                  </li>
                </ul>
              </div>

              <div class="footer-column">
                <h3>Ressources</h3>
                <ul class="footer-links">
                  <li>
                    <a href="#"
                      ><i class="fas fa-book-open"></i> Guide de recherche</a
                    >
                  </li>
                  <li>
                    <a href="#"
                      ><i class="fas fa-archive"></i> Répertoire des archives</a
                    >
                  </li>
                  <li>
                    <a href="#"
                      ><i class="fas fa-user-tag"></i> Patronymes tunisiens</a
                    >
                  </li>
                  <li>
                    <a href="#"
                      ><i class="fas fa-tools"></i> Outils de recherche</a
                    >
                  </li>
                  <li>
                    <a href="#"
                      ><i class="fas fa-handshake"></i> Partenariats</a
                    >
                  </li>
                </ul>
              </div>

              <div class="footer-column">
                <h3>Contact</h3>
                <ul class="footer-links">
                  <li>
                    <i class="fas fa-map-marker-alt"></i> 12 Rue de la Kasbah,
                    Tunis, Tunisie
                  </li>
                  <li>
                    <i class="fas fa-envelope"></i> contact@tunisiegenealogie.tn
                  </li>
                  <li><i class="fas fa-phone"></i> +216 70 000 000</li>
                  <li><i class="fas fa-clock"></i> Lun-Ven: 9h-17h</li>
                  <li>
                    <a href="#"
                      ><i class="fas fa-paper-plane"></i> Formulaire de
                      contact</a
                    >
                  </li>
                </ul>
              </div>
            </div>

            <div class="copyright">
              <p>
                &copy; 2023 TunisieGénéalogie.tn - Tous droits réservés. | Conçu
                avec passion pour l'histoire tunisienne
              </p>
              <p>
                Ce site respecte la vie privée et les droits d'auteur. Les
                données récentes sont protégées.
              </p>
            </div>
          </div>
        </footer>

        <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
        <script>
          // Menu mobile
          document
            .getElementById("mobileMenuBtn")
            .addEventListener("click", function () {
              document.getElementById("mainMenu").classList.toggle("active");
              this.querySelector("i").classList.toggle("fa-bars");
              this.querySelector("i").classList.toggle("fa-times");
            });

          // Fermer le menu en cliquant sur un lien
          document.querySelectorAll("#mainMenu a").forEach((link) => {
            link.addEventListener("click", () => {
              document.getElementById("mainMenu").classList.remove("active");
              document
                .getElementById("mobileMenuBtn")
                .querySelector("i")
                .classList.add("fa-bars");
              document
                .getElementById("mobileMenuBtn")
                .querySelector("i")
                .classList.remove("fa-times");
            });
          });

          // Données des membres de la famille
          const familyData = {
            hussein1: {
              name: "Hussein I Ben Ali",
              arabicName: "الحسين بن علي",
              bio: "Fondateur de la dynastie husseinite. D'origine crétoise, il s'installe à Tunis et fonde la dynastie qui règnera sur la Tunisie jusqu'en 1957. Il modernise l'administration et l'armée, établissant les bases du Beylicat de Tunis.",
              birth: "1669",
              death: "1740",
              role: "Fondateur de la dynastie, Bey de Tunis",
              reign: "1705-1740",
              family: [
                { name: "Ali I Pacha", relation: "Fils", role: "Bey de Tunis" },
                {
                  name: "Muhammad I ar-Rashid",
                  relation: "Fils",
                  role: "Bey de Tunis",
                },
                { name: "Fatima", relation: "Fille", role: "Princesse" },
              ],
              archives: [
                {
                  type: "Manuscrit",
                  title: "Acte de fondation de la dynastie",
                  year: "1705",
                },
                { type: "Portrait", title: "Portrait officiel", year: "1730" },
                {
                  type: "Correspondance",
                  title: "Lettres diplomatiques",
                  year: "1710-1735",
                },
              ],
              tags: ["Fondateur", "Bey", "Dynastie Husseinite"],
            },
            ali1: {
              name: "Ali I Pacha",
              arabicName: "علي باشا",
              bio: "Second bey de la dynastie husseinite. Il succède à son père Hussein I et consolide le pouvoir de la dynastie. Son règne est marqué par des réformes administratives et le développement du commerce avec l'Europe.",
              birth: "1688",
              death: "1756",
              role: "Bey de Tunis",
              reign: "1735-1756",
              family: [
                {
                  name: "Hussein I Ben Ali",
                  relation: "Père",
                  role: "Fondateur",
                },
                {
                  name: "Muhammad I ar-Rashid",
                  relation: "Frère",
                  role: "Bey de Tunis",
                },
                {
                  name: "Ali II ibn Hussein",
                  relation: "Neveu",
                  role: "Bey de Tunis",
                },
              ],
              archives: [
                {
                  type: "Décret",
                  title: "Décrets administratifs",
                  year: "1740",
                },
                { type: "Traité", title: "Accords commerciaux", year: "1745" },
                {
                  type: "Correspondance",
                  title: "Lettres au Dey d'Alger",
                  year: "1750",
                },
              ],
              tags: ["Bey", "Règne: 1735-1756", "Réformateur"],
            },
            muhammad1: {
              name: "Muhammad I ar-Rashid",
              arabicName: "محمد الرشيد",
              bio: "Bey de Tunis connu pour son implication dans les affaires internationales de la Méditerranée. Son règne relativement court est marqué par des tensions avec les puissances européennes et des réformes militaires.",
              birth: "1710",
              death: "1759",
              role: "Bey de Tunis",
              reign: "1756-1759",
              family: [
                {
                  name: "Hussein I Ben Ali",
                  relation: "Père",
                  role: "Fondateur",
                },
                {
                  name: "Ali I Pacha",
                  relation: "Frère",
                  role: "Bey de Tunis",
                },
                {
                  name: "Ali II ibn Hussein",
                  relation: "Neveu",
                  role: "Bey de Tunis",
                },
              ],
              archives: [
                {
                  type: "Traité",
                  title: "Traité avec la France",
                  year: "1757",
                },
                {
                  type: "Décret",
                  title: "Réorganisation militaire",
                  year: "1758",
                },
                {
                  type: "Correspondance",
                  title: "Lettres diplomatiques",
                  year: "1756-1759",
                },
              ],
              tags: ["Bey", "Règne: 1756-1759", "Diplomate"],
            },
            muhammad8: {
              name: "Muhammad VIII al-Amin",
              arabicName: "محمد الأمين",
              bio: "Dernier bey de Tunis et premier et unique roi de Tunisie. Il règne pendant la période du protectorat français et devient roi lors de l'indépendance en 1956. Son règne prend fin avec la proclamation de la République en 1957.",
              birth: "1881",
              death: "1962",
              role: "Dernier Bey de Tunis, Roi de Tunisie",
              reign: "1943-1957",
              family: [
                {
                  name: "Muhammad VI al-Habib",
                  relation: "Cousin",
                  role: "Bey de Tunis",
                },
                {
                  name: "Muhammad VII al-Munsif",
                  relation: "Prédécesseur",
                  role: "Bey de Tunis",
                },
                { name: "Lalla Fatima", relation: "Épouse", role: "Princesse" },
              ],
              archives: [
                {
                  type: "Proclamation",
                  title: "Acte d'indépendance",
                  year: "1956",
                },
                {
                  type: "Photographie",
                  title: "Cérémonie du couronnement",
                  year: "1956",
                },
                {
                  type: "Interview",
                  title: "Entretiens avec la presse",
                  year: "1957",
                },
              ],
              tags: ["Dernier Bey", "Roi", "Règne: 1943-1957", "Indépendance"],
            },
          };

          // Gestion des clics sur les membres
          document.querySelectorAll(".member-card").forEach((card) => {
            card.addEventListener("click", function () {
              const memberId = this.getAttribute("data-member");

              // Retirer la sélection de tous les membres
              document.querySelectorAll(".member-card").forEach((c) => {
                c.classList.remove("selected");
              });

              // Ajouter la sélection au membre cliqué
              this.classList.add("selected");

              // Afficher les détails du membre
              showMemberDetails(memberId);
            });
          });

          // Fonction pour afficher les détails d'un membre
          function showMemberDetails(memberId) {
            const member = familyData[memberId];
            if (!member) return;

            // Mettre à jour le panneau de détails
            document.getElementById("detail-title").textContent = member.name;
            document.getElementById("detail-bio").textContent = member.bio;

            // Mettre à jour les tags
            const tagsContainer = document.getElementById("detail-tags");
            tagsContainer.innerHTML = "";
            member.tags.forEach((tag) => {
              const tagElement = document.createElement("span");
              tagElement.className = "member-tag";
              tagElement.textContent = tag;
              tagsContainer.appendChild(tagElement);
            });

            // Mettre à jour la famille
            const familyContainer = document.getElementById("detail-family");
            familyContainer.innerHTML = "";
            member.family.forEach((famMember) => {
              const famElement = document.createElement("div");
              famElement.className = "family-member";
              famElement.innerHTML = `
                    <h5>${famMember.name}</h5>
                    <p><strong>Relation:</strong> ${famMember.relation}</p>
                    <p><strong>Rôle:</strong> ${famMember.role}</p>
                `;
              familyContainer.appendChild(famElement);
            });

            // Mettre à jour les archives
            const archivesContainer =
              document.getElementById("detail-archives");
            archivesContainer.innerHTML = "";
            member.archives.forEach((archive) => {
              const archiveElement = document.createElement("div");
              archiveElement.className = "archive-item";
              archiveElement.innerHTML = `
                    <div class="archive-icon">
                        <i class="fas fa-file-alt"></i>
                    </div>
                    <div>
                        <h5>${archive.title}</h5>
                        <p><strong>Type:</strong> ${archive.type} | <strong>Année:</strong> ${archive.year}</p>
                    </div>
                `;
              archivesContainer.appendChild(archiveElement);
            });

            // Afficher le panneau
            document
              .getElementById("member-detail-panel")
              .classList.add("active");
          }

          // Fermer le panneau de détails
          document
            .getElementById("detail-close")
            .addEventListener("click", function () {
              document
                .getElementById("member-detail-panel")
                .classList.remove("active");
              document.querySelectorAll(".member-card").forEach((c) => {
                c.classList.remove("selected");
              });
            });

          // Navigation entre les arbres
          document.querySelectorAll(".tree-nav-btn").forEach((btn) => {
            btn.addEventListener("click", function () {
              // Retirer la classe active de tous les boutons
              document.querySelectorAll(".tree-nav-btn").forEach((b) => {
                b.classList.remove("active");
              });

              // Ajouter la classe active au bouton cliqué
              this.classList.add("active");

              // Masquer tous les arbres
              document.querySelectorAll(".family-tree").forEach((tree) => {
                tree.style.display = "none";
              });

              // Afficher l'arbre correspondant
              const treeId = this.getAttribute("data-tree") + "-tree";
              const treeElement = document.getElementById(treeId);
              if (treeElement) {
                treeElement.style.display = "flex";
              }

              // Masquer le panneau de détails
              document
                .getElementById("member-detail-panel")
                .classList.remove("active");
              document.querySelectorAll(".member-card").forEach((c) => {
                c.classList.remove("selected");
              });
            });
          });

          // Contrôles de zoom
          let zoomLevel = 100;
          const treeContainer = document.querySelector(
            ".tree-diagram-container"
          );
          const zoomLevelElement = document.getElementById("zoom-level");

          document
            .getElementById("zoom-in")
            .addEventListener("click", function () {
              if (zoomLevel < 200) {
                zoomLevel += 10;
                updateZoom();
              }
            });

          document
            .getElementById("zoom-out")
            .addEventListener("click", function () {
              if (zoomLevel > 50) {
                zoomLevel -= 10;
                updateZoom();
              }
            });

          function updateZoom() {
            const scale = zoomLevel / 100;
            treeContainer.style.transform = `scale(${scale})`;
            treeContainer.style.transformOrigin = "center top";
            zoomLevelElement.textContent = `${zoomLevel}%`;
          }

          // Réinitialiser la vue
          document
            .getElementById("reset-view")
            .addEventListener("click", function () {
              zoomLevel = 100;
              updateZoom();
              treeContainer.scrollLeft = 0;
              treeContainer.scrollTop = 0;
              document
                .getElementById("member-detail-panel")
                .classList.remove("active");
              document.querySelectorAll(".member-card").forEach((c) => {
                c.classList.remove("selected");
              });
            });

          // Exporter l'arbre (simulation)
          document
            .getElementById("export-tree")
            .addEventListener("click", function () {
              alert(
                "Fonction d'export activée. L'arbre généalogique sera téléchargé au format PDF."
              );
              // Ici, on pourrait intégrer une bibliothèque comme jsPDF pour générer un PDF
            });

          // Imprimer l'arbre
          document
            .getElementById("print-tree")
            .addEventListener("click", function () {
              window.print();
            });

          // Initialisation de la carte des tribus
          function initTribesMap() {
            const map = L.map("tribes-map").setView([34.0, 9.0], 6);

            L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png", {
              attribution:
                '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',
              maxZoom: 12,
              minZoom: 5,
            }).addTo(map);

            // Ajout de marqueurs pour les tribus
            const tribes = [
              { name: "Banu Hilal", lat: 35.0, lng: 9.5, color: "#556b2f" },
              { name: "Banu Sulaym", lat: 35.5, lng: 10.5, color: "#5d4037" },
              { name: "Drid", lat: 33.9, lng: 8.1, color: "#a0552a" },
              { name: "Jerid", lat: 33.9, lng: 8.1, color: "#8d6e63" },
              { name: "Sfax", lat: 34.7, lng: 10.7, color: "#d4af37" },
            ];

            tribes.forEach((tribe) => {
              L.circleMarker([tribe.lat, tribe.lng], {
                color: tribe.color,
                fillColor: tribe.color,
                fillOpacity: 0.7,
                radius: 10,
              })
                .addTo(map)
                .bindPopup(
                  `<strong>${tribe.name}</strong><br>Cliquez pour plus d'informations`
                );
            });

            // Ajout d'une légende
            const legend = L.control({ position: "bottomright" });

            legend.onAdd = function (map) {
              const div = L.DomUtil.create("div", "info legend");
              div.style.backgroundColor = "white";
              div.style.padding = "10px";
              div.style.borderRadius = "5px";
              div.innerHTML =
                "<h4 style=\"margin-top:0; margin-bottom:10px; font-family: 'Cinzel', serif;\">Tribus</h4>" +
                '<div><span style="background-color:#556b2f; width:15px; height:15px; display:inline-block; margin-right:5px;"></span> Banu Hilal</div>' +
                '<div><span style="background-color:#5d4037; width:15px; height:15px; display:inline-block; margin-right:5px;"></span> Banu Sulaym</div>' +
                '<div><span style="background-color:#a0552a; width:15px; height:15px; display:inline-block; margin-right:5px;"></span> Drid</div>';
              return div;
            };

            legend.addTo(map);

            return map;
          }

          // Gestion des boutons de tribus
          document.querySelectorAll(".tribe-btn").forEach((btn) => {
            btn.addEventListener("click", function () {
              // Retirer la classe active de tous les boutons
              document.querySelectorAll(".tribe-btn").forEach((b) => {
                b.classList.remove("active");
              });

              // Ajouter la classe active au bouton cliqué
              this.classList.add("active");

              // Masquer tous les détails de tribus
              document.querySelectorAll(".tribe-details").forEach((detail) => {
                detail.classList.remove("active");
              });

              // Afficher les détails de la tribu correspondante
              const tribeId = this.getAttribute("data-tribe") + "-details";
              const tribeElement = document.getElementById(tribeId);
              if (tribeElement) {
                tribeElement.classList.add("active");
              }
            });
          });

          // Gestion des filtres de bibliothèque
          document.querySelectorAll(".library-btn").forEach((btn) => {
            btn.addEventListener("click", function () {
              // Retirer la classe active de tous les boutons
              document.querySelectorAll(".library-btn").forEach((b) => {
                b.classList.remove("active");
              });

              // Ajouter la classe active au bouton cliqué
              this.classList.add("active");

              const category = this.getAttribute("data-category");

              // Filtrer les éléments de la bibliothèque
              document.querySelectorAll(".library-item").forEach((item) => {
                if (
                  category === "all" ||
                  item.getAttribute("data-category") === category
                ) {
                  item.style.display = "flex";
                } else {
                  item.style.display = "none";
                }
              });
            });
          });

          // Animation de compteur pour les statistiques
          function animateCounter(element, target, duration) {
            let start = 0;
            const increment = target / (duration / 16);
            const timer = setInterval(() => {
              start += increment;
              if (start >= target) {
                element.textContent = target + "+";
                clearInterval(timer);
              } else {
                element.textContent = Math.floor(start) + "+";
              }
            }, 16);
          }

          // Initialiser après le chargement de la page
          document.addEventListener("DOMContentLoaded", function () {
            // Initialiser la carte
            let tribesMap;
            try {
              tribesMap = initTribesMap();
            } catch (e) {
              console.log("Carte non initialisée (mode développement)");
            }

            // Initialiser avec un membre sélectionné
            setTimeout(() => {
              const firstMember = document.querySelector(".member-card");
              if (firstMember) {
                firstMember.click();
              }
            }, 1000);

            // Animation au défilement
            const observerOptions = {
              threshold: 0.1,
              rootMargin: "0px 0px -50px 0px",
            };

            const observer = new IntersectionObserver((entries) => {
              entries.forEach((entry) => {
                if (entry.isIntersecting) {
                  entry.target.style.opacity = "1";
                  entry.target.style.transform = "translateY(0)";
                }
              });
            }, observerOptions);

            // Observer les cartes de statistiques
            document.querySelectorAll(".stat-card").forEach((el) => {
              el.style.opacity = "0";
              el.style.transform = "translateY(20px)";
              el.style.transition = "opacity 0.5s ease, transform 0.5s ease";
              observer.observe(el);
            });

            // Observer les éléments de la timeline
            document.querySelectorAll(".timeline-content").forEach((el) => {
              el.style.opacity = "0";
              el.style.transform = "translateX(-20px)";
              el.style.transition = "opacity 0.5s ease, transform 0.5s ease";
              observer.observe(el);
            });

            // Observer les cartes antiques
            document.querySelectorAll(".antique-card").forEach((el) => {
              el.style.opacity = "0";
              el.style.transform = "translateY(20px)";
              el.style.transition = "opacity 0.5s ease, transform 0.5s ease";
              observer.observe(el);
            });

            // Observer les éléments de la bibliothèque
            document.querySelectorAll(".library-item").forEach((el) => {
              el.style.opacity = "0";
              el.style.transform = "translateY(20px)";
              el.style.transition = "opacity 0.5s ease, transform 0.5s ease";
              observer.observe(el);
            });

            // Observer les cartes de membre
            document.querySelectorAll(".member-card").forEach((el) => {
              el.style.opacity = "0";
              el.style.transform = "translateY(20px)";
              el.style.transition = "opacity 0.5s ease, transform 0.5s ease";
              observer.observe(el);
            });

            // Observer la section des statistiques pour déclencher l'animation de compteur
            const statsObserver = new IntersectionObserver(
              (entries) => {
                entries.forEach((entry) => {
                  if (entry.isIntersecting) {
                    const stats = [
                      {
                        element: document.querySelector(
                          ".stat-card:nth-child(1) .stat-number"
                        ),
                        target: 2500,
                      },
                      {
                        element: document.querySelector(
                          ".stat-card:nth-child(2) .stat-number"
                        ),
                        target: 15000,
                      },
                      {
                        element: document.querySelector(
                          ".stat-card:nth-child(3) .stat-number"
                        ),
                        target: 8300,
                      },
                      {
                        element: document.querySelector(
                          ".stat-card:nth-child(4) .stat-number"
                        ),
                        target: 24,
                      },
                    ];

                    stats.forEach((stat) => {
                      if (stat.element) {
                        animateCounter(stat.element, stat.target, 2000);
                      }
                    });

                    // Arrêter d'observer après avoir déclenché l'animation
                    statsObserver.unobserve(entry.target);
                  }
                });
              },
              { threshold: 0.5 }
            );

            // Observer la section des statistiques
            const statsSection = document.querySelector(".stats-section");
            if (statsSection) {
              statsObserver.observe(statsSection);
            }

            // Redimensionner la carte lorsque la fenêtre change de taille
            window.addEventListener("resize", function () {
              if (tribesMap) {
                setTimeout(() => {
                  tribesMap.invalidateSize();
                }, 200);
              }
            });
          });
        </script>
      </body>
    </html>
  </body>
</html>
